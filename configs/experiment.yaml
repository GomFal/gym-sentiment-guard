# Experiment Configuration
# Following EXPERIMENT_PROTOCOL.md specifications

experiment:
  name: logreg_ablation_v1
  description: "LogReg ablation suite for sentiment classification"
  seed: 42

# Frozen data splits (§0)
data:
  splits:
    train: data/frozen/sentiment_logreg/2025.12.15_01/train/train.csv
    val: data/frozen/sentiment_logreg/2025.12.15_01/val/val.csv
    test: data/frozen/sentiment_logreg/2025.12.15_01/test/test.csv
  text_column: comment
  label_column: sentiment
  label_mapping:
    negative: 0
    positive: 1

# Selection criteria (§1)
selection:
  primary_metric: f1_neg
  recall_constraint: 0.90
  tie_breakers:
    - macro_f1
    - pr_auc_neg

# Ablation grids (§5)
# Set to smaller grids for faster initial runs; expand for full search
ablation:
  # TF-IDF parameters (§5.1)
  tfidf:
    ngram_range:
      - [1, 1]
      - [1, 2]
      - [1, 3]
    min_df:
      - 2
      - 5
      - 10
    max_df:
      - 0.90
      - 0.95
      - 1.0
    sublinear_tf:
      - true
    stop_words:
      - null          # No stopwords removal
      - curated_safe  # Curated Spanish stopwords list

  # LogReg parameters (§5.2)
  logreg:
    penalty:
      - l2
    C:
      - 0.3
      - 1.0
      - 3.0
      - 5.0
    class_weight:
      - null

# Output settings
output:
  results_dir: artifacts/experiments
  save_predictions: true

# Protocol reference
protocol:
  baseline_model_version: "2025.12.16_002"
  test_usage_locked: true
